<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SAGE API v2 Reference &mdash; Sage  2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Sage  2.0 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">Sage  2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="sage-api-v2-reference">
<h1>SAGE API v2 Reference<a class="headerlink" href="#sage-api-v2-reference" title="Permalink to this headline">¶</a></h1>
<p>The SAGE API exposes methods for geocoding, address correction, and district assignment given addresses or geo-coordinates
as input. The API supports <tt class="docutils literal"><span class="pre">JSON</span></tt>, <tt class="docutils literal"><span class="pre">JSON-P</span></tt>, and <tt class="docutils literal"><span class="pre">XML</span></tt> output formats.</p>
<p>SAGE is also able to handle <a class="reference internal" href="#bluebirdcrm">BluebirdCRM</a> district assignment requests.</p>
<div class="section" id="basics">
<h2>Basics<a class="headerlink" href="#basics" title="Permalink to this headline">¶</a></h2>
<p>The API requests must be crafted to match the following structure:</p>
<div class="highlight-python"><pre>/api/v2/&lt;group&gt;/&lt;method&gt;?params..</pre>
</div>
<p>All API requests need to be validated using an assigned API key however it is not required when requests are made from
within the NY Senate&#8217;s network. The key is supplied using the query parameter <tt class="docutils literal"><span class="pre">key</span></tt>:</p>
<div class="highlight-python"><pre>/api/v2/&lt;group&gt;/&lt;method&gt;?&lt;params..&gt;&amp;key=YOUR KEY HERE</pre>
</div>
<p>The default output format is <tt class="docutils literal"><span class="pre">JSON</span></tt>. To change the output to <tt class="docutils literal"><span class="pre">XML</span></tt> or <tt class="docutils literal"><span class="pre">JSON-P</span></tt> simply set the <tt class="docutils literal"><span class="pre">format</span></tt> query
parameter to <tt class="docutils literal"><span class="pre">xml</span></tt> or <tt class="docutils literal"><span class="pre">jsonp</span></tt>. For example to set to xml:</p>
<div class="highlight-python"><pre>/api/v2/geo/geocode?addr=200 State St, Albany NY&amp;format=xml</pre>
</div>
<p>To output JSON-P a callback must also be specified.:</p>
<div class="highlight-python"><pre>/api/v2/geo/geocode?addr=200 State St, Albany NY&amp;format=jsonp&amp;callback=methodName</pre>
</div>
</div>
<div class="section" id="groups">
<h2>Groups<a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h2>
<p>Each API method belongs in a logical group in order to make it easy to understand the goal of the request. The supported
types for the <tt class="docutils literal"><span class="pre">group</span></tt> segment are as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Group</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#address">address</a></td>
<td>Address Lookup and Validation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#geo">geo</a></td>
<td>Geocode and Reverse Geocode</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#district">district</a></td>
<td>District Assignment</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#street">street</a></td>
<td>Street Lookup</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#map">map</a></td>
<td>Map Data</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<div class="section" id="common-query-parameters">
<span id="id1"></span><h3>Common Query Parameters<a class="headerlink" href="#common-query-parameters" title="Permalink to this headline">¶</a></h3>
<p>Many of the methods listed below follow a similar convention for inputting addresses or geo-coordinates.
To supply a single address string use the parameter <tt class="docutils literal"><span class="pre">addr</span></tt>:</p>
<div class="highlight-python"><pre>/api/v2/&lt;group&gt;/&lt;method&gt;?addr=200 State St, Albany NY 12210</pre>
</div>
<p>To supply the individual components use the following parameters: <tt class="docutils literal"><span class="pre">addr1</span></tt>, <tt class="docutils literal"><span class="pre">addr2</span></tt>, <tt class="docutils literal"><span class="pre">city</span></tt>, <tt class="docutils literal"><span class="pre">state</span></tt>, <tt class="docutils literal"><span class="pre">zip5</span></tt>, <tt class="docutils literal"><span class="pre">zip4</span></tt>. The above query would be written as:</p>
<div class="highlight-python"><pre>/api/v2/&lt;group&gt;/&lt;method&gt;?addr1=200 State St&amp;city=Albany&amp;state=NY&amp;zip5=12210</pre>
</div>
<p>Geo-coordinate pairs can be supplied to the appropriate method using <tt class="docutils literal"><span class="pre">lat</span></tt> and <tt class="docutils literal"><span class="pre">lon</span></tt>:</p>
<div class="highlight-python"><pre>/api/v2/&lt;group&gt;/&lt;method&gt;?lat=43.00&amp;lon=-73.10</pre>
</div>
<p>Address, Geo, and District API calls allow for specifying a <tt class="docutils literal"><span class="pre">provider</span></tt> to carry out the request:</p>
<div class="highlight-python"><pre>/api/v2/&lt;group&gt;/&lt;method&gt;?provider=PROVIDER_NAME</pre>
</div>
</div>
<div class="section" id="address">
<h3>Address<a class="headerlink" href="#address" title="Permalink to this headline">¶</a></h3>
<p>The following methods are implemented for the <a class="reference internal" href="#address">address</a> service:</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>validate</td>
<td>Validate the given address</td>
</tr>
<tr class="row-odd"><td>citystate</td>
<td>Lookup the city and state given the zipcode</td>
</tr>
<tr class="row-even"><td>zipcode</td>
<td>Lookup the zipcode given a street address</td>
</tr>
</tbody>
</table>
<p>The available providers are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Provider</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>usps</td>
<td>USPS AMS Address Correction</td>
</tr>
<tr class="row-odd"><td>uspsais</td>
<td>USPS AIS Address Correction</td>
</tr>
</tbody>
</table>
<p>The usage of <tt class="docutils literal"><span class="pre">validate</span></tt> with an address input:</p>
<div class="highlight-python"><pre>/api/v2/address/validate?addr1=44 Fairlawn Avenue&amp;city=Albany&amp;state=NY</pre>
</div>
<p>The validated response:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;SUCCESS&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;USPSAMS&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;address&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s">&quot;addr1&quot;</span> <span class="p">:</span> <span class="s">&quot;44 Fairlawn Ave&quot;</span><span class="p">,</span>
    <span class="s">&quot;addr2&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
    <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="s">&quot;Albany&quot;</span><span class="p">,</span>
    <span class="s">&quot;state&quot;</span> <span class="p">:</span> <span class="s">&quot;NY&quot;</span><span class="p">,</span>
    <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="s">&quot;12203&quot;</span><span class="p">,</span>
    <span class="s">&quot;zip4&quot;</span> <span class="p">:</span> <span class="s">&quot;1914&quot;</span>
  <span class="p">},</span>
  <span class="s">&quot;validated&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Success.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A failed validation response:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;NO_ADDRESS_VALIDATE_RESULT&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;USPSAMS&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;address&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">&quot;validated&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">73</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;The address could not be validated.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">USPS address validation requires addr1, city and state explicitly specified in the query parameters. Given a query that
is missing those fields, USPS will not be used to perform validation and another provider will be used instead.</p>
</div>
<p>The <tt class="docutils literal"><span class="pre">punct</span></tt> parameter can be supplied if abbreviations require a period appended to them. Simply add <tt class="docutils literal"><span class="pre">punct=true</span></tt> to the url
to enable punctuation.</p>
<p>The usage of <tt class="docutils literal"><span class="pre">citystate</span></tt> with a zip code input:</p>
<div class="highlight-python"><pre>/api/v2/address/citystate?zip5=12210</pre>
</div>
<p>The city/state response:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;SUCCESS&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;USPSAMS&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="s">&quot;ALBANY&quot;</span><span class="p">,</span>
  <span class="s">&quot;state&quot;</span> <span class="p">:</span> <span class="s">&quot;NY&quot;</span><span class="p">,</span>
  <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="s">&quot;12210&quot;</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Success.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A failed city/state response with invalid input:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;NO_ADDRESS_VALIDATE_RESULT&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;USPSAMS&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="s">&quot;Invalid Zip Code.&quot;</span> <span class="p">],</span>
  <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
  <span class="s">&quot;state&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
  <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">73</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;The address could not be validated.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The usage of <tt class="docutils literal"><span class="pre">zipcode</span></tt>:</p>
<div class="highlight-python"><pre>/api/v2/address/zipcode?addr1=44 Fairlawn Avenue&amp;city=Albany&amp;state=NY</pre>
</div>
<p>The zipcode response:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;SUCCESS&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;USPSAMS&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="s">&quot;12203&quot;</span><span class="p">,</span>
  <span class="s">&quot;zip4&quot;</span> <span class="p">:</span> <span class="s">&quot;1914&quot;</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Success.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A failed zipcode response, similar to the failed validate response:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;NO_ADDRESS_VALIDATE_RESULT&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;USPSAMS&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">&quot;zip4&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">73</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;The address could not be validated.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Zipcode lookup has the same USPS constraints as the validate method</p>
</div>
<p>To force the request to use a certain provider supply the query parameter <tt class="docutils literal"><span class="pre">provider</span></tt>:</p>
<div class="highlight-python"><pre>/api/v2/address/&lt;method&gt;?&lt;params..&gt;&amp;provider=usps
/api/v2/address/&lt;method&gt;?&lt;params..&gt;&amp;provider=uspsais</pre>
</div>
</div>
<div class="section" id="geo">
<h3>Geo<a class="headerlink" href="#geo" title="Permalink to this headline">¶</a></h3>
<p>The following methods are implemented for the <a class="reference internal" href="#geo">geo</a> service:</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>geocode</td>
<td>Geocode the given address</td>
</tr>
<tr class="row-odd"><td>revgeocode</td>
<td>Obtain address from given coordinate pair</td>
</tr>
</tbody>
</table>
<p>The available providers ordered from most accurate to least are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="63%" />
<col width="18%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Provider</th>
<th class="head">Description</th>
<th class="head">API Limits</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>yahoo</td>
<td>Free YQL service from Yahoo. (recommended)</td>
<td>~20000 day</td>
</tr>
<tr class="row-odd"><td>mapquest</td>
<td>Free MapQuest geocoding service</td>
<td>5000 day?</td>
</tr>
<tr class="row-even"><td>tiger</td>
<td>In-database geocoding using census data</td>
<td>Unlimited</td>
</tr>
<tr class="row-odd"><td>ruby</td>
<td>Ruby implementation using census data</td>
<td>Unlimited</td>
</tr>
<tr class="row-even"><td>osm</td>
<td>Open Street Maps API</td>
<td>1 per sec?</td>
</tr>
</tbody>
</table>
<p>Methods have the following optional parameters:</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Param</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>provider</td>
<td>Specify which geocode provider to use first (see above table)</td>
</tr>
<tr class="row-odd"><td>useFallback</td>
<td>If false and provider is set, only the provider will be used for the request.</td>
</tr>
</tbody>
</table>
<p>For example to use just yahoo without falling back to other providers in case of error:</p>
<div class="highlight-python"><pre>/api/v2/geo/&lt;method&gt;?&lt;params..&gt;&amp;provider=yahoo&amp;useFallback=false</pre>
</div>
<div class="section" id="geocode">
<h4>Geocode<a class="headerlink" href="#geocode" title="Permalink to this headline">¶</a></h4>
<p>The usage of <tt class="docutils literal"><span class="pre">geocode</span></tt> with an address input:</p>
<div class="highlight-python"><pre>/api/v2/geo/geocode?addr=200 State St, Albany NY 12210
/api/v2/geo/geocode?addr1=200 State St&amp;city=Albany&amp;state=NY&amp;zip5=12210</pre>
</div>
<p>The geocode response:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;SUCCESS&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;GeoCache&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;address&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s">&quot;addr1&quot;</span> <span class="p">:</span> <span class="s">&quot;200 State St&quot;</span><span class="p">,</span>
    <span class="s">&quot;addr2&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
    <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="s">&quot;Albany&quot;</span><span class="p">,</span>
    <span class="s">&quot;state&quot;</span> <span class="p">:</span> <span class="s">&quot;NY&quot;</span><span class="p">,</span>
    <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="s">&quot;12210&quot;</span><span class="p">,</span>
    <span class="s">&quot;zip4&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span>
  <span class="p">},</span>
  <span class="s">&quot;geocode&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s">&quot;lat&quot;</span> <span class="p">:</span> <span class="mf">42.65203</span><span class="p">,</span>
    <span class="s">&quot;lon&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">73.75759</span><span class="p">,</span>
    <span class="s">&quot;quality&quot;</span> <span class="p">:</span> <span class="s">&quot;HOUSE&quot;</span><span class="p">,</span>
    <span class="s">&quot;method&quot;</span> <span class="p">:</span> <span class="s">&quot;YahooDao&quot;</span>
  <span class="p">},</span>
  <span class="s">&quot;geocoded&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Success.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">source</span></tt> indicates where the response was returned from whereas <tt class="docutils literal"><span class="pre">geocode.method</span></tt> indicates where the geocode was computed.</p>
<p>The <tt class="docutils literal"><span class="pre">address</span></tt> is typically a normalized representation of the input address but it depends on the geocode provider used.</p>
<p>The <tt class="docutils literal"><span class="pre">geocode.quality</span></tt> metric indicates the accuracy/confidence level of the geocode. A successful geocode response will have
one of the following quality levels ordered from most accurate to least:</p>
<ul class="simple">
<li>POINT</li>
<li>HOUSE</li>
<li>ZIP_EXT</li>
<li>STREET</li>
<li>ZIP</li>
</ul>
<p>An unsuccessful response will resemble the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;NO_GEOCODE_RESULT&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;TigerGeocoder&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;address&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">&quot;geocode&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">&quot;geocoded&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">71</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Geocode service returned no results.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A <tt class="docutils literal"><span class="pre">RESPONSE_PARSE_ERROR</span></tt> status will also indicate a failed geocode operation.</p>
</div>
<div class="section" id="reverse-geocode">
<h4>Reverse Geocode<a class="headerlink" href="#reverse-geocode" title="Permalink to this headline">¶</a></h4>
<p>The usage of <tt class="docutils literal"><span class="pre">revgeocode</span></tt> with a coordinate pair input:</p>
<div class="highlight-python"><pre>api/v2/geo/revgeocode?lat=42.652030&amp;lon=-73.757590</pre>
</div>
<p>The reverse geocode response:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;SUCCESS&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;Yahoo&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;address&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s">&quot;addr1&quot;</span> <span class="p">:</span> <span class="s">&quot;200 State St&quot;</span><span class="p">,</span>
    <span class="s">&quot;addr2&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
    <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="s">&quot;Albany&quot;</span><span class="p">,</span>
    <span class="s">&quot;state&quot;</span> <span class="p">:</span> <span class="s">&quot;NY&quot;</span><span class="p">,</span>
    <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="s">&quot;12210&quot;</span><span class="p">,</span>
    <span class="s">&quot;zip4&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span>
  <span class="p">},</span>
  <span class="s">&quot;geocode&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s">&quot;lat&quot;</span> <span class="p">:</span> <span class="mf">42.65204</span><span class="p">,</span>
    <span class="s">&quot;lon&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">73.757602</span><span class="p">,</span>
    <span class="s">&quot;quality&quot;</span> <span class="p">:</span> <span class="s">&quot;HOUSE&quot;</span><span class="p">,</span>
    <span class="s">&quot;method&quot;</span> <span class="p">:</span> <span class="s">&quot;YahooDao&quot;</span>
  <span class="p">},</span>
  <span class="s">&quot;revGeocoded&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Success.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It is identical to the geocode response except for the <tt class="docutils literal"><span class="pre">revGeocoded</span></tt> field that indicates whether the reverse geocoding succeeded.</p>
</div>
<div class="section" id="batch-geocode">
<span id="id2"></span><h4>Batch Geocode<a class="headerlink" href="#batch-geocode" title="Permalink to this headline">¶</a></h4>
<p>Multiple addresses can be geocoded with a single query using the batch api call.
The format of the batch geocoding call is:</p>
<div class="highlight-python"><pre>/api/v2/geo/geocode/batch</pre>
</div>
<p>The format of the batch reverse geocoding call is:</p>
<div class="highlight-python"><pre>/api/v2/geo/revgeocode/batch</pre>
</div>
<p>The addresses for geocoding and points for reverse geocoding must be JSON encoded and sent in the POST request payload.
The fields are identical to the query parameter fields for both address and point. Likewise any options can be specified
the same way as the single request version. For example to specify provider:</p>
<div class="highlight-python"><pre>/api/v2/geo/geocode/batch?provider=PROVIDER_NAME</pre>
</div>
<p>A sample batch geocoding request in PHP:</p>
<div class="highlight-python"><pre>&lt;?php
$addresses = array(
    array(
        "addr1" =&gt; "100 Nyroy Dr",
        "city" =&gt; "Troy",
        "state" =&gt; "NY",
        "zip5" =&gt; "12180"
    ),
    array(
        "addr1" =&gt; "44 Fairlawn Ave",
        "city" =&gt; "Albany",
        "state" =&gt; "NY",
        "zip5" =&gt; "12203"
    )
);

$post_body = json_encode($addresses);

$ch = curl_init("http://localhost:8080/GeoApi/geo/geocode/batch");
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST");
curl_setopt($ch, CURLOPT_POSTFIELDS, $post_body);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HTTPHEADER, array(
    'Content-Type: application/json',
    'Content-Length: ' . strlen($post_body)
));

$result = curl_exec($ch);</pre>
</div>
<p>And the response:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>  <span class="s">&quot;results&quot;</span> <span class="p">:[</span>
    <span class="p">{</span> <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;SUCCESS&quot;</span><span class="p">,</span>
      <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;GeoCache&quot;</span><span class="p">,</span> <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
      <span class="s">&quot;address&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s">&quot;addr1&quot;</span> <span class="p">:</span> <span class="s">&quot;100 Nyroy Dr&quot;</span><span class="p">,</span> <span class="s">&quot;addr2&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="s">&quot;Troy&quot;</span><span class="p">,</span> <span class="s">&quot;state&quot;</span> <span class="p">:</span> <span class="s">&quot;NY&quot;</span><span class="p">,</span> <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="s">&quot;12180&quot;</span><span class="p">,</span> <span class="s">&quot;zip4&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span> <span class="p">},</span>
      <span class="s">&quot;geocode&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s">&quot;lat&quot;</span> <span class="p">:</span> <span class="mf">42.741112</span><span class="p">,</span> <span class="s">&quot;lon&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">73.668762</span><span class="p">,</span> <span class="s">&quot;quality&quot;</span> <span class="p">:</span> <span class="s">&quot;HOUSE&quot;</span><span class="p">,</span> <span class="s">&quot;method&quot;</span> <span class="p">:</span> <span class="s">&quot;YahooDao&quot;</span> <span class="p">},</span> <span class="s">&quot;geocoded&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Success.&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;SUCCESS&quot;</span><span class="p">,</span>
      <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;GeoCache&quot;</span><span class="p">,</span>
      <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
      <span class="s">&quot;address&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s">&quot;addr1&quot;</span> <span class="p">:</span> <span class="s">&quot;44 Fairlawn Ave&quot;</span><span class="p">,</span> <span class="s">&quot;addr2&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="s">&quot;Albany&quot;</span><span class="p">,</span> <span class="s">&quot;state&quot;</span> <span class="p">:</span> <span class="s">&quot;NY&quot;</span><span class="p">,</span> <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="s">&quot;12203&quot;</span><span class="p">,</span> <span class="s">&quot;zip4&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span> <span class="p">},</span>
      <span class="s">&quot;geocode&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s">&quot;lat&quot;</span> <span class="p">:</span> <span class="mf">42.670583</span><span class="p">,</span> <span class="s">&quot;lon&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">73.799606</span><span class="p">,</span> <span class="s">&quot;quality&quot;</span> <span class="p">:</span> <span class="s">&quot;HOUSE&quot;</span><span class="p">,</span> <span class="s">&quot;method&quot;</span> <span class="p">:</span> <span class="s">&quot;YahooDao&quot;</span> <span class="p">},</span>
      <span class="s">&quot;geocoded&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Success.&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s">&quot;total&quot;</span> <span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The results array consists of the same geocode responses that would be returned using the single geocode call.
The <tt class="docutils literal"><span class="pre">total</span></tt> field simply indicates the number of records returned. The order of the results should match the
order of the addresses in the JSON payload.</p>
<p>In the event that the payload fails to parse, the response will be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;INVALID_BATCH_ADDRESSES&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;GeocodeController&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">55</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;The supplied batch address list could not be parsed.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Refer to <a class="reference internal" href="#common-query-parameters"><em>Common Query Parameters</em></a> to ensure that the correct fields are being used.</p>
</div>
</div>
<div class="section" id="district">
<h3>District<a class="headerlink" href="#district" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#district">district</a> service has the following method(s).</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>assign</td>
<td>Assign district information given an address or coordinate pair</td>
</tr>
<tr class="row-odd"><td>bluebird</td>
<td>Performs district assign with preset options for Bluebird</td>
</tr>
</tbody>
</table>
<p>The available providers are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="55%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Provider</th>
<th class="head">Description</th>
<th class="head">Requirements</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>shapefile</td>
<td>In-database district shapes.</td>
<td>Geocode</td>
</tr>
<tr class="row-odd"><td>streetfile</td>
<td>Street file database.</td>
<td>Address</td>
</tr>
<tr class="row-even"><td>geoserver</td>
<td>Geoserver hosted shape files</td>
<td>Geocode</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">assign</span></tt> has the following optional parameters:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Param</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>provider</td>
<td>Specify which district provider to use. Overrides &#8216;districtStrategy&#8217;</td>
</tr>
<tr class="row-odd"><td>geoProvider</td>
<td>Specify which geocode provider to use.</td>
</tr>
<tr class="row-even"><td>showMembers</td>
<td>If true: senator, assembly, and congressional member data is appended.</td>
</tr>
<tr class="row-odd"><td>showMaps</td>
<td>If true: map data is appended for each district.</td>
</tr>
<tr class="row-even"><td>showMultiMatch</td>
<td>If true: street range and overlap data will be returned for multi-matches.</td>
</tr>
<tr class="row-odd"><td>uspsValidate</td>
<td>If true: usps will be used to perform address correction.</td>
</tr>
<tr class="row-even"><td>skipGeocode</td>
<td>If true: no geocoding will occur, useful when provider=streetfile</td>
</tr>
<tr class="row-odd"><td>districtStrategy</td>
<td>Specify the strategy to use for district assignment (see below)</td>
</tr>
</tbody>
</table>
<p>The following district strategies can be utilized:</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Strategy</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>neighborMatch</td>
<td>Perform shape and street lookup, consolidating only when proximity condition met.</td>
</tr>
<tr class="row-odd"><td>streetFallback</td>
<td>Perform shape and street lookup, using street file in case of mismatch.</td>
</tr>
<tr class="row-even"><td>shapeFallback</td>
<td>Perform street lookup and only fall back to shape files when street lookup failed.</td>
</tr>
<tr class="row-odd"><td>streetOnly</td>
<td>Perform street lookup only.</td>
</tr>
</tbody>
</table>
<p>Unlike the <tt class="docutils literal"><span class="pre">geo</span></tt> service, specifying a <tt class="docutils literal"><span class="pre">provider</span></tt> or <tt class="docutils literal"><span class="pre">geoProvider</span></tt> will by default disable any fallback. If the provider
is not specified the service will utilize multiple providers to provide the most accurate result. If the geoProvider is not
specified, the service will iterate through a series of providers if needed until a geocode match is obtained. Specifying
provider or geoProvider is not recommended as it may reduce the accuracy of the results.</p>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">USPS validation will only work when addr1, city, and state are provided. See address section above for details.</p>
</div>
<div class="section" id="assign">
<h4>Assign<a class="headerlink" href="#assign" title="Permalink to this headline">¶</a></h4>
<p>The default query usage is as follows:</p>
<div class="highlight-python"><pre>Unparsed Format:
/api/v2/district/assign?addr=280 Madison Ave, New York, NY

Parsed Format:
/api/v2/district/assign?addr1=280 Madison Ave&amp;city=New York&amp;state=NY</pre>
</div>
<p>The district assignment response:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;SUCCESS&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;DistrictServiceProvider&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;address&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s">&quot;addr1&quot;</span> <span class="p">:</span> <span class="s">&quot;280 Madison Ave&quot;</span><span class="p">,</span>
    <span class="s">&quot;addr2&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
    <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="s">&quot;New York&quot;</span><span class="p">,</span>
    <span class="s">&quot;state&quot;</span> <span class="p">:</span> <span class="s">&quot;NY&quot;</span><span class="p">,</span>
    <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="s">&quot;10016&quot;</span><span class="p">,</span>
    <span class="s">&quot;zip4&quot;</span> <span class="p">:</span> <span class="s">&quot;0802&quot;</span>
  <span class="p">},</span>
  <span class="s">&quot;geocode&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s">&quot;lat&quot;</span> <span class="p">:</span> <span class="mf">40.751352</span><span class="p">,</span>
    <span class="s">&quot;lon&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">73.980335</span><span class="p">,</span>
    <span class="s">&quot;quality&quot;</span> <span class="p">:</span> <span class="s">&quot;HOUSE&quot;</span><span class="p">,</span>
    <span class="s">&quot;method&quot;</span> <span class="p">:</span> <span class="s">&quot;YahooDao&quot;</span>
  <span class="p">},</span>
  <span class="s">&quot;geocoded&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s">&quot;districtAssigned&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s">&quot;senateAssigned&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s">&quot;uspsValidated&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">&quot;matchLevel&quot;</span> <span class="p">:</span> <span class="s">&quot;HOUSE&quot;</span><span class="p">,</span>
  <span class="s">&quot;districts&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s">&quot;senate&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;NY Senate District 27&quot;</span><span class="p">,</span>
      <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;27&quot;</span><span class="p">,</span>
      <span class="s">&quot;senator&quot;</span> <span class="p">:</span> <span class="n">null</span>
    <span class="p">},</span>
    <span class="s">&quot;congressional&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;NY Congressional District 12&quot;</span><span class="p">,</span>
      <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;12&quot;</span><span class="p">,</span>
      <span class="s">&quot;member&quot;</span> <span class="p">:</span> <span class="n">null</span>
    <span class="p">},</span>
    <span class="s">&quot;assembly&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;NY Assembly District 73&quot;</span><span class="p">,</span>
      <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;73&quot;</span><span class="p">,</span>
      <span class="s">&quot;member&quot;</span> <span class="p">:</span> <span class="n">null</span>
    <span class="p">},</span>
    <span class="s">&quot;county&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;New York County&quot;</span><span class="p">,</span>
      <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;62&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;election&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;6&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;school&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;Manhattan School District&quot;</span><span class="p">,</span>
      <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;369&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;town&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;New York&quot;</span><span class="p">,</span>
      <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;-NYC&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;zip&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;10016&quot;</span><span class="p">,</span>
      <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;10016&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;cleg&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s">&quot;ward&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s">&quot;village&quot;</span> <span class="p">:</span> <span class="n">null</span>
  <span class="p">},</span>
  <span class="s">&quot;multiMatch&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Success.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">districtAssigned</span></tt> field will be true if any districts were assigned.
The <tt class="docutils literal"><span class="pre">senateAssigned</span></tt> field will be true if the senate district was assigned.</p>
<p>The main components of the response are <tt class="docutils literal"><span class="pre">address</span></tt>, <tt class="docutils literal"><span class="pre">geocode</span></tt>, and <tt class="docutils literal"><span class="pre">districts</span></tt>. The <tt class="docutils literal"><span class="pre">address</span></tt> typically contains
a corrected address response from the geocode provider or is the result of USPS correction if <tt class="docutils literal"><span class="pre">uspsValidated</span></tt> is true.
The <tt class="docutils literal"><span class="pre">geocode</span></tt> contains the coordinates that were used to perform district assignment. The <tt class="docutils literal"><span class="pre">districts</span></tt> object contains all
the district types supported by the service. <tt class="docutils literal"><span class="pre">district</span></tt> refers to the code or number that represents the district.</p>
<p>The <tt class="docutils literal"><span class="pre">matchLevel</span></tt> indicates how granular the district assignment is. The following table describes the different <tt class="docutils literal"><span class="pre">matchLevel</span></tt> values:</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">matchLevel value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>HOUSE</td>
<td>A specific house/bldg address was located and assigned.</td>
</tr>
<tr class="row-odd"><td>STREET</td>
<td>A street range was assigned within the given city or zip5.</td>
</tr>
<tr class="row-even"><td>ZIP5</td>
<td>A zip5 region was assigned.</td>
</tr>
<tr class="row-odd"><td>CITY</td>
<td>The union of zip5 regions that belong to a city were assigned.</td>
</tr>
</tbody>
</table>
<p>If the <tt class="docutils literal"><span class="pre">matchLevel</span></tt> is not HOUSE, the <tt class="docutils literal"><span class="pre">multiMatch</span></tt> field will be true. The assigned districts for a non HOUSE match will
be those that completely encompass that geographic region. If a street spans multiple senate districts, it will not have it&#8217;s
senate district assigned. However if a street is contained fully by a senate district, it will have been assigned with that district.
The same applies to ZIP5 and CITY level lookups. Optionally the <tt class="docutils literal"><span class="pre">showMultiMatch</span></tt> parameter can be set to true to view all possible
overlap boundaries and street ranges. The output of that is described below.</p>
<p>If <tt class="docutils literal"><span class="pre">showMultiMatch</span></tt> is set to true:</p>
<div class="highlight-python"><pre>(Note that just the street is supplied to trigger a matchLevel of STREET)
/api/v2/district/assign?addr=Madison Ave, NY&amp;showMultiMatch=true</pre>
</div>
<p>The response will resemble the following (truncated for brevity):</p>
<div class="highlight-python"><pre>{
  "status" : "SUCCESS",
  "source" : "DistrictShapefile",
  "messages" : [ ],
  "address" : {
    "addr1" : "Madison Ave",
    "addr2" : "",
    "city" : "New York",
    "state" : "NY",
    "zip5" : "10010",
    "zip4" : ""
  },
  "geocode" : {
    "lat" : 40.742119,
    "lon" : -73.987076,
    "quality" : "STREET",
    "method" : "YahooDao"
  },
  "geocoded" : true,
  "districtAssigned" : true,
  "senateAssigned" : false,
  "uspsValidated" : false,
  "matchLevel" : "STREET",
  "districts" : {
    "senate" : null,
    "congressional" : null,
    "assembly" : null,
    "county" : {
      "name" : "New York County",
      "district" : "62"
    },
    "election" : null,
    "school" : null,
    "town" : null,
    "zip" : null,
    "cleg" : null,
    "ward" : null,
    "village" : null
  },
  "overlaps" : {
    "assembly" : [ {
      "name" : null,
      "district" : "68",
      "intersectionArea" : 6240510.4531401154,
      "areaPercentage" : 0.11
    }, {
      "name" : null,
      "district" : "70",
      "intersectionArea" : 4577779.5892158523,
      "areaPercentage" : 0.08
    }, {
      "name" : null,
      "district" : "73",
      "intersectionArea" : 4175298.2836983129,
      "areaPercentage" : 0.07
    }, {
      "name" : null,
      "district" : "75",
      "intersectionArea" : 6626512.6820231033,
      "areaPercentage" : 0.12
    } ],
    "congressional" : [ {
      "name" : null,
      "district" : "13",
      "intersectionArea" : 18492568.968741294,
      "areaPercentage" : 0.33
    }, {
      "name" : null,
      "district" : "12",
      "intersectionArea" : 17861734.376638968,
      "areaPercentage" : 0.32
    } ],
    "senate" : [ {
      "name" : "NY Senate District 30",
      "district" : "30",
      "intersectionArea" : 9377715.5224368814,
      "areaPercentage" : 0.17
    }, {
      "name" : "NY Senate District 27",
      "district" : "27",
      "intersectionArea" : 11881916.930670122,
      "areaPercentage" : 0.21
    }, {
      "name" : "NY Senate District 28",
      "district" : "28",
      "intersectionArea" : 7893341.056081377,
      "areaPercentage" : 0.14
    }, {
      "name" : "NY Senate District 29",
      "district" : "29",
      "intersectionArea" : 5834177.0993249146,
      "areaPercentage" : 0.10
    } ]
  },
  "totalReferenceArea" : 55823719.26265686,
  "areaUnit" : "SQ_METERS",
  "streets" : [ {
    "bldgLoNum" : 1,
    "bldgHiNum" : 43,
    "street" : "MADISON AVE",
    "location" : "MANHATTAN",
    "zip5" : "10010",
    "parity" : "ODDS",
    "congressional" : "12",
    "senate" : "28",
    "assembly" : "75",
    "county" : "62",
    "election" : "30",
    "town" : null
  }, {
    "bldgLoNum" : 2,
    "bldgHiNum" : 2,
    "street" : "MADISON AVE",
    "location" : "MANHATTAN",
    "zip5" : "10010",
    "parity" : "EVENS",
    "congressional" : "12",
    "senate" : "28",
    "assembly" : "75",
    "county" : "62",
    "election" : "29",
    "town" : null
  }, (114 more entries..) ],
  "multiMatch" : true,
  "statusCode" : 0,
  "description" : "Success."
}</pre>
</div>
<p>Any districts that were successfully assigned (fully contain the specified street/city/zip) will appear under the <tt class="docutils literal"><span class="pre">districts</span></tt> field
as previously described. If there is contention between multiple districts of a certain type (senate, assembly, etc) they will be
enumerated within the <tt class="docutils literal"><span class="pre">overlaps</span></tt> field. The <tt class="docutils literal"><span class="pre">areaPercentage</span></tt> field provides a rough estimate of the geographic area it occupies
relative to the other districts of the given type. The <tt class="docutils literal"><span class="pre">areaPercentage</span></tt> is only applicable for CITY and ZIP5 matchLevel responses.</p>
<p>The <tt class="docutils literal"><span class="pre">streets</span></tt> field is applicable when matchLevel = STREET. It is an array that contains objects representing discrete street ranges
and the associated districts within that range. This information can be used to determine where district boundaries change within a given
street. If the zip5 is specified in the input, the range will be limited to that zip. Otherwise the range will be contained within the
zip boundaries the represent the city.</p>
<p>Map polygon data can be retrieved for purposes of rendering to a 3rd party mapping application.</p>
<p>If <tt class="docutils literal"><span class="pre">showMaps</span></tt> is set to true:</p>
<div class="highlight-python"><pre>/api/v2/district/assign?addr=280 Madison Ave, NY&amp;showMaps=true</pre>
</div>
<p>the <tt class="docutils literal"><span class="pre">districts</span></tt> portion of the response will be different:</p>
<div class="highlight-python"><pre>...
  "districts" : {
    "senate" : {
      "name" : "State Senate District 27",
      "district" : "27",
      "map" : {
        "geom" : [[[ &lt;lat&gt;, &lt;lon&gt;], ]]
      },
      "nearBorder" : true,
      "neighbors" : [ {
        "name" : "State Senate District 28",
        "district" : "28",
        "member" : null,
        "map" : {
          "geom" : [[[ &lt;lat&gt;, &lt;lon&gt;], ]]
        }
      } ],
      "senator" : null
    },
    "congressional" : {
      "name" : "State Congressional District 12",
      "district" : "12",
      "map" : {
        "geom" : [[[ &lt;lat&gt;, &lt;lon&gt;], ]]
      },
      "nearBorder" : false,
      "neighbors" : [ ],
      "member" : null
    },
    "assembly" : {
      "name" : "State Assembly District 73",
      "district" : "73",
      "map" : {
        "geom" : [[[ &lt;lat&gt;, &lt;lon&gt;], ]]
      },
      "nearBorder" : true,
      "neighbors" : [ {
        "name" : null,
        "district" : "75",
        "member" : null,
        "map" : {
          "geom" : [[[ &lt;lat&gt;, &lt;lon&gt;], ]]
        }
      }, {
        "name" : null,
        "district" : "74",
        "member" : null,
        "map" : {
          "geom" : [[[ &lt;lat&gt;, &lt;lon&gt;], ]]
        }
      } ],
      "member" : null
    },
    "county" : {
      "name" : "New York County",
      "district" : "62",
      "map" : {
        "geom" : [[[ &lt;lat&gt;, &lt;lon&gt;], ]]
      },
      "nearBorder" : false,
      "neighbors" : [ ]
    },
    "election" : {
      "name" : null,
      "district" : "6",
      "map" : null,
      "nearBorder" : false,
      "neighbors" : [ ]
    },
    "school" : {
      "name" : "Manhattan School District",
      "district" : "369",
      "map" : {
        "geom" : [[[ &lt;lat&gt;, &lt;lon&gt;], ]]
       },
      "nearBorder" : false,
      "neighbors" : [ ]
    },
    "town" : {
      "name" : "New York",
      "district" : "-NYC",
      "map" : {
        "geom" : [[[ &lt;lat&gt;, &lt;lon&gt;], ]]
      },
      "nearBorder" : false,
      "neighbors" : [ ]
    },
    "cleg" : {
      "name" : null,
      "district" : null,
      "map" : null,
      "nearBorder" : false,
      "neighbors" : [ ]
    },
    "ward" : {
      "name" : null,
      "district" : null,
      "map" : null,
      "nearBorder" : false,
      "neighbors" : [ ]
    },
    "village" : {
      "name" : null,
      "district" : null,
      "map" : null,
      "nearBorder" : false,
      "neighbors" : [ ]
    }
  },
  ...</pre>
</div>
<p><tt class="docutils literal"><span class="pre">map.geom</span></tt> will contain polygon data if <tt class="docutils literal"><span class="pre">showMaps</span></tt> is true. <tt class="docutils literal"><span class="pre">nearBorder</span></tt> indicates that the address is very close
to a district boundary. If <tt class="docutils literal"><span class="pre">nearBorder</span></tt> is true it suggests that the result for that district may be not be certain although
by default the service will automatically attempt to correct the uncertain districts. <tt class="docutils literal"><span class="pre">neighbors</span></tt> will contain a list of
districts that are near the geocode location but for performance reasons will only be populated if <tt class="docutils literal"><span class="pre">nearBorder</span></tt> was true
for that district. The application may also limit neighbor matches to just the senate district to improve performance.
Any district that does not have any map data associated with it will have <tt class="docutils literal"><span class="pre">map</span></tt> : null;</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">&#8216;geom&#8217; is an array containing an array of coordinate pairs which are represented as two floats in an array,
e.g geom[0] -&gt; array of coordinate pairs (represented as [lat, lon]) of the first polygon.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not all district types have polygon data available. Currently only senate, assembly, congressional, county, town,
and school maps are available. However the other district types may be supported in the future.</p>
</div>
<p>District assignment via coordinate pairs is also supported:</p>
<div class="highlight-python"><pre>/api/v2/district/assign?lat=40.751352&amp;lon=-73.980335</pre>
</div>
<p>The supplied point will automatically be reverse geocoded by the service and will match the response given by an address input.</p>
</div>
<div class="section" id="bluebirdcrm">
<h4>BluebirdCRM<a class="headerlink" href="#bluebirdcrm" title="Permalink to this headline">¶</a></h4>
<p>For integration with Bluebird CRM, the bluebird method can be used instead:</p>
<div class="highlight-python"><pre>Unparsed Format:
/api/v2/district/bluebird?addr=280 Madison Ave NY

Parsed Format:
/api/v2/district/bluebird?addr1=280 Madison Ave&amp;state=NY</pre>
</div>
<p>Bluebird district assign is similar to the default assign except that the options are fixed:</p>
<div class="highlight-python"><pre>showMaps:         false
showMembers:      false
skipGeocode:      false
uspsValidate:     true
showMultiMatch:   false
districtStrategy: (application setting)</pre>
</div>
<p>The response is identical to that of a default district assign with those parameters. The
district assignment strategy for the bluebird method can be configured by the application so that
district assignment for <tt class="docutils literal"><span class="pre">district/assign</span></tt> and <tt class="docutils literal"><span class="pre">district/bluebird</span></tt> can follow different execution paths, either to favor
performance or completeness.</p>
<p>An unsuccessful district assign response will look similar to the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;NO_DISTRICT_RESULT&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;StreetFile&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;address&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">&quot;geocode&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">&quot;districts&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">&quot;geocoded&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">&quot;uspsValidated&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">&quot;districtAssigned&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">&quot;senateAssigned&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">70</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;District assignment returned no results.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="batch-district-assign">
<h4>Batch District Assign<a class="headerlink" href="#batch-district-assign" title="Permalink to this headline">¶</a></h4>
<p>Both <a class="reference internal" href="#assign">Assign</a> and <a class="reference internal" href="#bluebirdcrm">BluebirdCRM</a> methods can handle batch requests as well. The format is:</p>
<div class="highlight-python"><pre>/api/v2/district/assign/batch
/api/v2/district/bluebird/batch</pre>
</div>
<p>The addresses must be JSON encoded and sent along the POST payload in the same way as <a class="reference internal" href="#batch-geocode"><em>Batch Geocode</em></a>.</p>
<p>A sample batch district assign in PHP:</p>
<div class="highlight-python"><pre>&lt;?php

$addresses = array(
        array(
                "addr1" =&gt; "100 Nyroy Dr",
                "city" =&gt; "Troy",
                "state" =&gt; "NY",
                "zip5" =&gt; "12180"
        ),
        array(
                "addr1" =&gt; "44 Fairlawn Ave",
                "city" =&gt; "Albany",
                "state" =&gt; "NY",
                "zip5" =&gt; "12203"
        )
);

$post_body = json_encode($addresses);

$ch = curl_init("http://localhost:8080/GeoApi/api/v2/district/assign/batch");
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST");
curl_setopt($ch, CURLOPT_POSTFIELDS, $post_body);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HTTPHEADER, array(
        'Content-Type: application/json',
        'Content-Length: ' . strlen($post_body)
));

$result = curl_exec($ch);

print_r($result);</pre>
</div>
<p>And the response:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;results&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
    <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;SUCCESS&quot;</span><span class="p">,</span>
    <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;StreetFile&quot;</span><span class="p">,</span>
    <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s">&quot;address&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;addr1&quot;</span> <span class="p">:</span> <span class="s">&quot;100 Nyroy Dr&quot;</span><span class="p">,</span>
      <span class="s">&quot;addr2&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
      <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="s">&quot;Troy&quot;</span><span class="p">,</span>
      <span class="s">&quot;state&quot;</span> <span class="p">:</span> <span class="s">&quot;NY&quot;</span><span class="p">,</span>
      <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="s">&quot;12180&quot;</span><span class="p">,</span>
      <span class="s">&quot;zip4&quot;</span> <span class="p">:</span> <span class="s">&quot;1921&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;geocode&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;lat&quot;</span> <span class="p">:</span> <span class="mf">42.741112</span><span class="p">,</span>
      <span class="s">&quot;lon&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">73.668762</span><span class="p">,</span>
      <span class="s">&quot;quality&quot;</span> <span class="p">:</span> <span class="s">&quot;HOUSE&quot;</span><span class="p">,</span>
      <span class="s">&quot;method&quot;</span> <span class="p">:</span> <span class="s">&quot;YahooDao&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;geocoded&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">&quot;districtAssigned&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">&quot;senateAssigned&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">&quot;uspsValidated&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s">&quot;matchLevel&quot;</span> <span class="p">:</span> <span class="s">&quot;HOUSE&quot;</span><span class="p">,</span>
    <span class="s">&quot;districts&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;senate&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;NY Senate District 44&quot;</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;44&quot;</span><span class="p">,</span> <span class="s">&quot;senator&quot;</span> <span class="p">:</span> <span class="n">null</span>
      <span class="p">},</span>
      <span class="s">&quot;congressional&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;NY Congressional District 20&quot;</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;20&quot;</span><span class="p">,</span> <span class="s">&quot;member&quot;</span> <span class="p">:</span> <span class="n">null</span>
      <span class="p">},</span>
      <span class="s">&quot;assembly&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;NY Assembly District 107&quot;</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;107&quot;</span><span class="p">,</span> <span class="s">&quot;member&quot;</span> <span class="p">:</span> <span class="n">null</span>
      <span class="p">},</span>
      <span class="s">&quot;county&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;38&quot;</span>
      <span class="p">},</span>
      <span class="s">&quot;election&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;12&quot;</span>
      <span class="p">},</span>
      <span class="s">&quot;school&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s">&quot;town&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;-TROY&quot;</span>
      <span class="p">},</span>
      <span class="s">&quot;zip&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;12180&quot;</span>
      <span class="p">},</span>
      <span class="s">&quot;cleg&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;1&quot;</span>
      <span class="p">},</span>
      <span class="s">&quot;ward&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="n">null</span>
      <span class="p">},</span>
      <span class="s">&quot;village&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="n">null</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s">&quot;multiMatch&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Success.&quot;</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;SUCCESS&quot;</span><span class="p">,</span>
    <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;StreetFile&quot;</span><span class="p">,</span>
    <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s">&quot;address&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;addr1&quot;</span> <span class="p">:</span> <span class="s">&quot;44 Fairlawn Ave&quot;</span><span class="p">,</span>
      <span class="s">&quot;addr2&quot;</span> <span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
      <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="s">&quot;Albany&quot;</span><span class="p">,</span>
      <span class="s">&quot;state&quot;</span> <span class="p">:</span> <span class="s">&quot;NY&quot;</span><span class="p">,</span>
      <span class="s">&quot;zip5&quot;</span> <span class="p">:</span> <span class="s">&quot;12203&quot;</span><span class="p">,</span>
      <span class="s">&quot;zip4&quot;</span> <span class="p">:</span> <span class="s">&quot;1933&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;geocode&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;lat&quot;</span> <span class="p">:</span> <span class="mf">42.670583</span><span class="p">,</span>
      <span class="s">&quot;lon&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">73.799606</span><span class="p">,</span>
      <span class="s">&quot;quality&quot;</span> <span class="p">:</span> <span class="s">&quot;HOUSE&quot;</span><span class="p">,</span>
      <span class="s">&quot;method&quot;</span> <span class="p">:</span> <span class="s">&quot;YahooDao&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;geocoded&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">&quot;districtAssigned&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">&quot;senateAssigned&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">&quot;uspsValidated&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s">&quot;matchLevel&quot;</span> <span class="p">:</span> <span class="s">&quot;HOUSE&quot;</span><span class="p">,</span>
    <span class="s">&quot;districts&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&quot;senate&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;NY Senate District 44&quot;</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;44&quot;</span><span class="p">,</span> <span class="s">&quot;senator&quot;</span> <span class="p">:</span> <span class="n">null</span>
      <span class="p">},</span>
      <span class="s">&quot;congressional&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;NY Congressional District 20&quot;</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;20&quot;</span><span class="p">,</span> <span class="s">&quot;member&quot;</span> <span class="p">:</span> <span class="n">null</span>
      <span class="p">},</span>
      <span class="s">&quot;assembly&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;NY Assembly District 109&quot;</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;109&quot;</span><span class="p">,</span> <span class="s">&quot;member&quot;</span> <span class="p">:</span> <span class="n">null</span>
      <span class="p">},</span>
      <span class="s">&quot;county&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;1&quot;</span>
      <span class="p">},</span>
      <span class="s">&quot;election&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;5&quot;</span>
      <span class="p">},</span>
      <span class="s">&quot;school&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s">&quot;town&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;-ALBAN&quot;</span>
      <span class="p">},</span>
      <span class="s">&quot;zip&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;12203&quot;</span>
      <span class="p">},</span>
      <span class="s">&quot;cleg&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;13&quot;</span>
      <span class="p">},</span>
      <span class="s">&quot;ward&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;13&quot;</span>
      <span class="p">},</span>
      <span class="s">&quot;village&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="n">null</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s">&quot;multiMatch&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Success.&quot;</span>
  <span class="p">}</span> <span class="p">],</span>
 <span class="s">&quot;total&quot;</span> <span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And a parse error response in case of invalid input:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;INVALID_BATCH_ADDRESSES&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span><span class="p">:</span> <span class="s">&quot;DistrictController&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s">&quot;statusCode&quot;</span><span class="p">:</span> <span class="mi">55</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span><span class="p">:</span> <span class="s">&quot;The supplied batch address list could not be parsed.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="street">
<h3>Street<a class="headerlink" href="#street" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#street">street</a> service provides a comprehensive list of street address range to district mappings. This data is compiled from
Board of Election Street File data and can be searched via zip code.</p>
<p>The <a class="reference internal" href="#street">street</a> service has the following method(s):</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>lookup</td>
<td>Retrieve street information via zipcode.</td>
</tr>
</tbody>
</table>
<p>A request is of the following form:</p>
<div class="highlight-python"><pre>/api/v2/street/lookup?zip5=12210</pre>
</div>
<p>The response is:</p>
<div class="highlight-python"><pre>{
  "status" : "SUCCESS",
  "source" : "StreetController",
  "messages" : [ ],
  "streets" : [ {
    "bldgLoNum" : 2,
    "bldgHiNum" : 40,
    "street" : "1 ST",
    "location" : "ALBANY",
    "zip5" : "12210",
    "senate" : "44",
    "congressional" : "20",
    "assembly" : "108",
    "county" : "1",
    "election" : "7",
    "town" : "-ALBAN"
  }, {
    "bldgLoNum" : 5,
    "bldgHiNum" : 191,
    "street" : "1 ST",
    "location" : "ALBANY",
    "zip5" : "12210",
    "senate" : "44",
    "congressional" : "20",
    "assembly" : "108",
    "county" : "1",
    "election" : "7",
    "town" : "-ALBAN"
  },
  ... ]
}</pre>
</div>
<p>An invalid response, typically due to a non matching zip code is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;NO_STREET_LOOKUP_RESULT&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;StreetController&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;streets&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">74</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Street lookup returned no results for the given zip5&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="map">
<h3>Map<a class="headerlink" href="#map" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#map">map</a> service provides geometry information for certain district types. The methods for this service
actually represent the district type to retrieve maps for. The available methods are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>senate</td>
<td>NY State Senate Maps</td>
</tr>
<tr class="row-odd"><td>assembly</td>
<td>NY State Assembly Maps</td>
</tr>
<tr class="row-even"><td>congressional</td>
<td>NY State Congressional Maps</td>
</tr>
<tr class="row-odd"><td>county</td>
<td>NY County Maps</td>
</tr>
<tr class="row-even"><td>town</td>
<td>NY Town Maps</td>
</tr>
<tr class="row-odd"><td>school</td>
<td>NY School District Maps</td>
</tr>
</tbody>
</table>
<p>The parameters are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Params</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>district</td>
<td>Specify the district code. If unspecified, all districts will be retrieved.</td>
</tr>
<tr class="row-odd"><td>showMembers</td>
<td>If true: senator, assembly member, and congressional member data will be appended.</td>
</tr>
</tbody>
</table>
<p>To retrieve map and member data for all senate districts:</p>
<div class="highlight-python"><pre>/api/v2/map/senate?showMembers=true</pre>
</div>
<p>To retrieve map data for just senate district 1:</p>
<div class="highlight-python"><pre>/api/v2/map/senate?district=1</pre>
</div>
<p>The response of the second query is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
  <span class="s">&quot;status&quot;</span> <span class="p">:</span> <span class="s">&quot;SUCCESS&quot;</span><span class="p">,</span>
  <span class="s">&quot;source&quot;</span> <span class="p">:</span> <span class="s">&quot;DistrictShapefile&quot;</span><span class="p">,</span>
  <span class="s">&quot;messages&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="s">&quot;map&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s">&quot;geom&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">[</span> <span class="p">[</span> <span class="mf">41.052309</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.141594</span> <span class="p">],</span>  <span class="p">(</span><span class="n">truncated</span><span class="p">)</span> <span class="p">]]</span>
  <span class="p">},</span>
  <span class="s">&quot;member&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">&quot;district&quot;</span> <span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
  <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;State Senate District 1&quot;</span><span class="p">,</span>
  <span class="s">&quot;type&quot;</span> <span class="p">:</span> <span class="s">&quot;SENATE&quot;</span><span class="p">,</span>
  <span class="s">&quot;statusCode&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;Success.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The member data for senate districts will have the same senator output as in district assignment:</p>
<div class="highlight-python"><pre>"member" : {
    "name" : "Kenneth P. LaValle",
    "lastName" : "LaValle",
    "shortName" : "lavalle",
    "email" : "lavalle@nysenate.gov",
    "additionalContact" : "",
    "imageUrl" : "http://www.nysenate.gov/files/profile-pictures/NewHeadShotLavalle2.jpg",
    "url" : "http://www.nysenate.gov/senator/kenneth-p-lavalle",
    "partyAffiliations" : [ "R" ],
    "offices" : [ {
      "name" : "Albany Office",
      "street" : "188 State Street",
      "city" : "Albany",
      "postalCode" : "12247",
      "provinceName" : "New York",
      "province" : "NY",
      "countryName" : "United States",
      "country" : "us",
      "phone" : "(518) 455-3121",
      "fax" : "",
      "otherPhone" : "",
      "additional" : "Room 806, Legislative Office Building",
      "latitude" : 42.652855,
      "longitude" : -73.759091
    }, {
      "name" : "District Office",
      "street" : "28 North Country Rd",
      "city" : "Mount Sinai",
      "postalCode" : "11766",
      "provinceName" : "New York",
      "province" : "NY",
      "countryName" : "United States",
      "country" : "us",
      "phone" : "(631) 473-1461",
      "fax" : "(631) 473-1513",
      "otherPhone" : "",
      "additional" : "Suite 203",
      "latitude" : 40.938617,
      "longitude" : -73.035149
    } ],
    "district" : {
      "number" : 1,
      "url" : "http://www.nysenate.gov/district/01",
      "imageUrl" : "http://www.nysenate.gov/files/sd1_1.jpg",
      "mapUrl" : "http://geo.nysenate.gov/maps/regular.jsp?x=850&amp;y=595&amp;sd=01"
    },
    "social" : {
      "twitter" : "http://twitter.com/senatorlavalle",
      "youtube" : "http://www.youtube.com/user/KPLSenate",
      "myspace" : "",
      "picasa" : "",
      "flickr" : "",
      "facebook" : "https://www.facebook.com/kenneth.p.lavalle"
    }
}</pre>
</div>
<p>Sample member data for assembly and congressional districts:</p>
<div class="highlight-python"><pre>"member" : {
    "name" : "Thiele, Jr., Fred ",
    "url" : "http://assembly.state.ny.us/mem/Fred-W-Thiele-Jr"
}</pre>
</div>
</div>
</div>
<div class="section" id="status-codes">
<h2>Status Codes<a class="headerlink" href="#status-codes" title="Permalink to this headline">¶</a></h2>
<p>The following table lists all status codes. A positive response will usually have a status code of 0 while the rest are
generally error statuses:</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="5%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Status</th>
<th class="head">Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>Success</td>
</tr>
<tr class="row-odd"><td>SERVICE_NOT_SUPPORTED</td>
<td>1</td>
<td>The requested service is unsupported</td>
</tr>
<tr class="row-even"><td>FEATURE_NOT_SUPPORTED</td>
<td>2</td>
<td>The requested feature is unsupported</td>
</tr>
<tr class="row-odd"><td>PROVIDER_NOT_SUPPORTED</td>
<td>3</td>
<td>The requested provider is unsupported</td>
</tr>
<tr class="row-even"><td>ADDRESS_PROVIDER_NOT_SUPPORTED</td>
<td>4</td>
<td>The requested address provider is unsupported</td>
</tr>
<tr class="row-odd"><td>GEOCODE_PROVIDER_NOT_SUPPORTED</td>
<td>5</td>
<td>The requested geocoding provider is unsupported</td>
</tr>
<tr class="row-even"><td>DISTRICT_PROVIDER_NOT_SUPPORTED</td>
<td>6</td>
<td>The requested district assignment provider is unsupported</td>
</tr>
<tr class="row-odd"><td>API_KEY_INVALID</td>
<td>10</td>
<td>The supplied API key could not be authenticated</td>
</tr>
<tr class="row-even"><td>API_KEY_MISSING</td>
<td>11</td>
<td>An API key is required</td>
</tr>
<tr class="row-odd"><td>API_REQUEST_INVALID</td>
<td>20</td>
<td>The request is not in a valid format. Check the documentation for proper usage</td>
</tr>
<tr class="row-even"><td>API_INPUT_FORMAT_UNSUPPORTED</td>
<td>21</td>
<td>The requested input format is currently not supported</td>
</tr>
<tr class="row-odd"><td>API_OUTPUT_FORMAT_UNSUPPORTED</td>
<td>22</td>
<td>The requested output format is currently not supported</td>
</tr>
<tr class="row-even"><td>JSONP_CALLBACK_NOT_SPECIFIED</td>
<td>23</td>
<td>A callback signature must be specified as a parameter e.g &amp;callback=method&#8221;)</td>
</tr>
<tr class="row-odd"><td>RESPONSE_MISSING_ERROR</td>
<td>30</td>
<td>No response from service provider</td>
</tr>
<tr class="row-even"><td>RESPONSE_PARSE_ERROR</td>
<td>31</td>
<td>Error parsing response from service provider</td>
</tr>
<tr class="row-odd"><td>MISSING_INPUT_PARAMS</td>
<td>40</td>
<td>One or more parameters are missing</td>
</tr>
<tr class="row-even"><td>MISSING_ADDRESS</td>
<td>41</td>
<td>An address is required</td>
</tr>
<tr class="row-odd"><td>MISSING_GEOCODE</td>
<td>42</td>
<td>A valid geocoded coordinate pair is required</td>
</tr>
<tr class="row-even"><td>MISSING_ZIPCODE</td>
<td>43</td>
<td>A zipcode is required</td>
</tr>
<tr class="row-odd"><td>MISSING_STATE</td>
<td>44</td>
<td>A state is required</td>
</tr>
<tr class="row-even"><td>MISSING_POINT</td>
<td>45</td>
<td>A coordinate pair is required</td>
</tr>
<tr class="row-odd"><td>MISSING_GEOCODED_ADDRESS</td>
<td>46</td>
<td>A valid geocoded address is required</td>
</tr>
<tr class="row-even"><td>INVALID_INPUT_PARAMS</td>
<td>50</td>
<td>One or more parameters are invalid</td>
</tr>
<tr class="row-odd"><td>INVALID_ADDRESS</td>
<td>51</td>
<td>The supplied address is invalid</td>
</tr>
<tr class="row-even"><td>INVALID_GEOCODE</td>
<td>52</td>
<td>The supplied geocoded coordinate pair is invalid</td>
</tr>
<tr class="row-odd"><td>INVALID_ZIPCODE</td>
<td>53</td>
<td>The supplied zipcode is invalid</td>
</tr>
<tr class="row-even"><td>INVALID_STATE</td>
<td>54</td>
<td>The supplied state is invalid or is not supported</td>
</tr>
<tr class="row-odd"><td>INVALID_BATCH_ADDRESSES</td>
<td>55</td>
<td>The supplied batch address list could not be parsed</td>
</tr>
<tr class="row-even"><td>INVALID_BATCH_POINTS</td>
<td>56</td>
<td>The supplied batch point list could not be parsed</td>
</tr>
<tr class="row-odd"><td>NON_NY_STATE</td>
<td>57</td>
<td>The address you have supplied is not a valid New York address.</td>
</tr>
<tr class="row-even"><td>INSUFFICIENT_INPUT_PARAMS</td>
<td>60</td>
<td>One or more parameters are insufficient</td>
</tr>
<tr class="row-odd"><td>INSUFFICIENT_ADDRESS</td>
<td>61</td>
<td>The supplied address is missing one or more parameters</td>
</tr>
<tr class="row-even"><td>INSUFFICIENT_GEOCODE</td>
<td>62</td>
<td>The supplied geocoded is missing one or more parameters</td>
</tr>
<tr class="row-odd"><td>NO_DISTRICT_RESULT</td>
<td>70</td>
<td>District assignment returned no results</td>
</tr>
<tr class="row-even"><td>NO_GEOCODE_RESULT</td>
<td>71</td>
<td>Geocode service returned no results</td>
</tr>
<tr class="row-odd"><td>NO_REVERSE_GEOCODE_RESULT</td>
<td>72</td>
<td>Reverse Geocode service returned no results</td>
</tr>
<tr class="row-even"><td>NO_ADDRESS_VALIDATE_RESULT</td>
<td>73</td>
<td>The address could not be validated</td>
</tr>
<tr class="row-odd"><td>NO_STREET_LOOKUP_RESULT</td>
<td>74</td>
<td>Street lookup returned no results for the given zip5</td>
</tr>
<tr class="row-even"><td>NO_MAP_RESULT</td>
<td>80</td>
<td>Map request returned no results</td>
</tr>
<tr class="row-odd"><td>UNSUPPORTED_DISTRICT_MAP</td>
<td>81</td>
<td>Maps for the requested district type are not available</td>
</tr>
<tr class="row-even"><td>MISSING_DISTRICT_CODE</td>
<td>82</td>
<td>A district code is required</td>
</tr>
<tr class="row-odd"><td>NOT_FOUND</td>
<td>404</td>
<td>Not Found</td>
</tr>
<tr class="row-even"><td>INTERNAL_ERROR</td>
<td>500</td>
<td>Internal Server Error</td>
</tr>
<tr class="row-odd"><td>DATABASE_ERROR</td>
<td>501</td>
<td>Database Error</td>
</tr>
<tr class="row-even"><td>RESPONSE_ERROR</td>
<td>502</td>
<td>Application failed to provide a response</td>
</tr>
<tr class="row-odd"><td>RESPONSE_SERIALIZATION_ERROR</td>
<td>503</td>
<td>Failed to serialize response</td>
</tr>
</tbody>
</table>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">SAGE API v2 Reference</a><ul>
<li><a class="reference internal" href="#basics">Basics</a></li>
<li><a class="reference internal" href="#groups">Groups</a></li>
<li><a class="reference internal" href="#methods">Methods</a><ul>
<li><a class="reference internal" href="#common-query-parameters">Common Query Parameters</a></li>
<li><a class="reference internal" href="#address">Address</a></li>
<li><a class="reference internal" href="#geo">Geo</a><ul>
<li><a class="reference internal" href="#geocode">Geocode</a></li>
<li><a class="reference internal" href="#reverse-geocode">Reverse Geocode</a></li>
<li><a class="reference internal" href="#batch-geocode">Batch Geocode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#district">District</a><ul>
<li><a class="reference internal" href="#assign">Assign</a></li>
<li><a class="reference internal" href="#bluebirdcrm">BluebirdCRM</a></li>
<li><a class="reference internal" href="#batch-district-assign">Batch District Assign</a></li>
</ul>
</li>
<li><a class="reference internal" href="#street">Street</a></li>
<li><a class="reference internal" href="#map">Map</a></li>
</ul>
</li>
<li><a class="reference internal" href="#status-codes">Status Codes</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">Sage  2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, NY Senate.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>